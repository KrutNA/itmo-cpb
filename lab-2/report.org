#+SETUPFILE: /home/krutna/.emacs.d/org-mode/orgs/setup/setup.org
#+LANGUAGE: ru
#+AUTHOR: Krutko Nikita / KrutNA
#+OPTIONS: toc:nil
#+LATEX_HEADER: \usepackage{array}\usepackage{tabularx}
#+LATEX: \newcolumntype{V}[1]{>{\centering}m{\dimexpr #1\textwidth - 2\tabcolsep-1.3333333\arrayrulewidth}}
#+LATEX: \large
#+LATEX: \thispagestyle{empty}
#+BEGIN_CENTER
*Национальный Исследовательский Университет ИТМО*\\
*Факультет Программной Инженерии и Компьютерной Техники*\\
#+END_CENTER
#+LATEX: \vspace{2em}
#+ATTR_LATEX: :width 120pt
#+ATTR_ORG: :width 120px
file:itmo-logo.png
#+LATEX: \LARGE
#+LATEX: \vspace{5em}
#+BEGIN_CENTER
*Вариант №-7*\\
*Лабораторная работа №2*\\
#+LATEX: \Large
*по дисциплине*\\
#+LATEX: \LARGE
*/'Основы профессиональной деятельности'/*\\
#+END_CENTER
#+LATEX: \vspace{11em}
#+LATEX: \large
#+LATEX: \begin{flushright}
*Выполнил:*\\
*Студент группы P3113*\\
*/Крутько Никита/ : 242570*\\
*Преподаватель:*\\
*/Перминов Илья Валентинович/*\\
#+LATEX: \end{flushright}
#+LATEX: \vspace{4em}
#+LATEX: \large
#+BEGIN_CENTER
*Санкт-Петербург 2019 г.*
#+END_CENTER
#+LATEX: \pagebreak{}
#+TOC: headlines 2
#+LATEX: \vspace{2em}
#+LATEX: \normalsize
* Задание
По выданному преподавателем варианту определить функцию, вычисляемую программой, область представления и область допустимых значений исходных данных и результата, выполнить трассировку программы, предложить вариант с меньшим числом команд. При выполнении работы представлять результат и все операнды арифметических операций знаковыми числами, а логических операций набором из шестнадцати логических значений.

* Текст исходной программы
#+ATTR_LATEX: :align |c|c|c|l|
|---+-------+----------+-----------+--------------------------------------------------------------|
| # | Адрес | Значение | Мнемоника | Комментарий                                                  |
|---+-------+----------+-----------+--------------------------------------------------------------|
| # |   041 |     A04B | LD 04B    | Записать в AC значение по адресу O4B (AC = 0200)             |
| # |   042 |     0100 | HLT       | Отключение ТГ, переход в пультовый режим                     |
|---+-------+----------+-----------+--------------------------------------------------------------|
| # |   043 |     A04B | LD 04B    | Записать в AC значение по адресу 04B (AC = 0200)             |
| # |   044 |     2042 | AND 042   | Выполнить побитовое умножение занчения в AC с ячейкой 042    |
| # |   045 |     E04D | ST 04D    | Записать значение из AC в ячейку 04D  (*04D = 0000)          |
| # |   046 |     0200 | CLA       | Очистить аккумулятор (AC = 0000)                             |
| # |   047 |     4041 | ADD 041   | Прибавить к AC значение в ячейке 041 (AC = A04B)             |
| # |   048 |     604D | SUB 04D   | Вычесть из AC значение в ячейке 04D (AC = A04B)              |
| # |   049 |     E04C | ST 04C    | Записать значение из AC в ячейку 04C (*04C = A04B)           |
| # |   04A |     0100 | HLT       | Отключение ТГ, переход в пультовый режим                     |
| # |   04B |     0200 | CLA       | Очистить AC                                                  |
| # |   04C |     A04B | LD 04B    | (045: A04B) Записать в AC значение по адресу 04B (AC = 0200) |
| # |   04D |     4041 | NOP       | (049: 0000) Не делать ничего                                 |
|---+-------+----------+-----------+--------------------------------------------------------------|

* Описание программы
** Назначение программы и реализуемая ею функция
Выполенение нижеописанной функции с сохранением промежуточного значения побитовой операции и результата в ячейки 04D и 04C соответсвенно.\\
\(\text{*04C} = \text{*041} - \text{*04D} = \text{*041} - \left(\text{*04B} \mathbin{\land} \text{*042}\right)\)

** Область представления
*04C, *041, *04B, *04A - знаковые 16-рахрядные числа (1 бит знак, 15 бит - значимые разряды).\\
*04D - 16 бит, результат побитового логического "/AND/".

** Область допустимых значений исходных данных
*041, *04B, *042: \(-2^{16-1}\)..\(2^{16-1}-1\)
\(\Rightarrow\) \(-2^{15}\)..\(2^{15}-1\)
\(\Rightarrow\) \(-32768\)..\(-32767\)\\
*04D: \(0\)..\(2^{16}-1\)
\(\Rightarrow\) \(0\)..\(2^{16}-1\)
\(\Rightarrow\) \(0\)..\(65535\)

** Область допустимых значений результата
*04C: \(-2^{16-1}\)..\(2^{16-1}-1\)
\(\Rightarrow\) \(-2^{15}\)..\(2^{15}-1\)
\(\Rightarrow\) \(-32768\)..\(-32767\)

** Расположение в памяти ЭВМ программы, исходных данных и результатов
Ячейки 041, 042, 04B: исходные данные.\\
Ячейка 04D - промежуточное значение.\\
Ячейка 04C - результат выполнения.\\
Ячейки 043..04A: операции программы. 

** Адреса первой и последней выполняемых команд программы
043 - адрес точки входа в программу.
04A - адрес пооследней операции программы.
* Таблица трассировки
#+BEGIN_EXPORT latex
\footnotesize
\begin{center}
  \begin{tabularx}{\textwidth}{|V{0.08}|V{0.08}|V{0.07}|V{0.07}|V{0.07}|V{0.07}|V{0.07}|V{0.07}|V{0.07}|V{0.08}|V{0.13}|V{0.13}|}
    \hline
    \multicolumn{2}{|V{0.16}|}{\textbf{Выполненная команда}}
    & \multicolumn{8}{V{0.58}}{\textbf{Содержимое регистров процессора после выполнения команды}}
    & \multicolumn{2}{|V{0.24}|}{\textbf{Ячейка, содежимое которой изменилось после выполнения команды}} \cr \hline
    Адрес& Код & IP  &  CR  & AR  &  DR  & SP  &  BR  &  AC  & NZVC &Адрес& Новый код\cr\hline
    043 & A04B & 044 & A04B & 04B & 0200 & 000 & 0043 & 0200 & 0001 &&\cr\hline
    044 & 2042 & 045 & 2042 & 042 & 0100 & 000 & 0044 & 0000 & 0101 &&\cr\hline
    045 & E04D & 046 & E04D & 04D & 0000 & 000 & 0045 & 0000 & 0101 & 04D & 0000\cr\hline
    046 & 0200 & 047 & 0200 & 046 & 0200 & 000 & 0046 & 0000 & 0101 &&\cr\hline
    047 & 4041 & 048 & 4041 & 041 & A04B & 000 & 0047 & A04B & 1000 &&\cr\hline
    048 & 604D & 049 & 604D & 04D & 0000 & 000 & 0048 & A04B & 1001 &&\cr\hline
    049 & E04C & 04A & E04C & 04C & A04B & 000 & 0049 & A04B & 1001 & 04C & A04D\cr\hline
    04A & 0100 & 04B & 0100 & 04A & 0100 & 000 & 004A & A04B & 1001 &&\cr\hline 
  \end{tabularx}
\end{center}
#+END_EXPORT
\normalsize
* Вариант программы с меньшим числом команд 
#+ATTR_LATEX: :align |c|c|c|l|
|---+-------+----------+-----------+--------------------------------------------------------------|
| # | Адрес | Значение | Мнемоника | Комментарий                                                  |
|---+-------+----------+-----------+--------------------------------------------------------------|
| # |   041 | A04B     | LD 04B    | Записать в AC значение по адресу O4B (AC = 0200)             |
| # |   042 | 0100     | HLT       | Отключение ТГ, переход в пультовый режим                     |
|---+-------+----------+-----------+--------------------------------------------------------------|
| # |   043 | A04B     | LD 04B    | Записать в AC значение по адресу 04B (AC = 0200)             |
| # |   044 | 2042     | AND 042   | Выполнить побитовое умножение занчения в AC с ячейкой 042    |
| # |   045 | E04D     | ST 04D    | Записать значение из AC в ячейку 04D  (*04D = 0000)          |
| # |   046 | A041     | LD 041    | Записать в AC значение из ячейки 041 (AC = A04B)             |
| # |   047 | 604D     | SUB 04D   | Вычесть из AC значение в ячейке 04D (AC = A04B)              |
| # |   048 | E04C     | ST 04C    | Записать значение из AC в ячейку 04C (*04C = A04B)           |
| # |   049 | 0100     | HLT       | Отключение ТГ, переход в пультовый режим                     |
| # |   04B | 0200     | CLA       | Очистить AC                                                  |
| # |   04C | A04B     | LD 04B    | (045: A04B) Записать в AC значение по адресу 04B (AC = 0200) |
| # |   04D | 4041     | NOP       | (049: 0000) Не делать ничего                                 |
|---+-------+----------+-----------+--------------------------------------------------------------|

* Вывод
В ходе лабораторной работы я познакомился с внутренним устройстом БЭВМ-NG, её командами, научился вводить в неё данные и выполнять программы, выполнять трассировку, аналищировать по результатам этого сокращать программы.
